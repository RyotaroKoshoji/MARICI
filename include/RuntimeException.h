#ifndef SYSTEM_EXCEPTIONSERVICES_RUNTIMEEXCEPTION_H
#define SYSTEM_EXCEPTIONSERVICES_RUNTIMEEXCEPTION_H

#include <stdexcept>
#include <string>
#include <typeinfo>

#include "IException.h"


namespace System
{
	namespace ExceptionServices
	{
		class RuntimeException :private std::runtime_error, public IException
		{
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Constructors, destructor, and operators

		protected:
			RuntimeException(const std::type_info&, const std::string& methodName, const std::string& message) noexcept;
			RuntimeException(const std::string& methodName, const std::string& message) noexcept;

		public:
			virtual ~RuntimeException() = default;

			RuntimeException(const RuntimeException&) = default;
			RuntimeException(RuntimeException&&) noexcept = default;
			RuntimeException& operator=(const RuntimeException&) = default;
			RuntimeException& operator=(RuntimeException&&) noexcept = default;

		// Constructors, destructor, and operators
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Property

			std::string message() const override;

		// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Methods

			std::string toString() const override;

		// Methods
// **********************************************************************************************************************************************************************************************************************************************************************************************

		private:
			std::string _className;
			std::string _methodName;


		private:
			RuntimeException() = delete;
		};
	}
}

// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Constructors

inline System::ExceptionServices::RuntimeException::RuntimeException(const std::type_info& typeinfo, const std::string& methodName, const std::string& message) noexcept
	: std::runtime_error{ message }
	, IException{}
	, _className{ typeinfo.name() }
	, _methodName{ methodName }
{
}

inline System::ExceptionServices::RuntimeException::RuntimeException(const std::string& methodName, const std::string& message) noexcept
	: std::runtime_error{ message }
	, IException{}
	, _className{}
	, _methodName{ methodName }
{
}

// Constructors
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Property

inline std::string System::ExceptionServices::RuntimeException::message() const
{
	return std::runtime_error::what();
}

// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Methods

inline std::string System::ExceptionServices::RuntimeException::toString() const
{
	std::string texts;
	{
		texts = typeid(*this).name();
		texts += "\n";
		{
			if (!(_className.empty()))
			{
				texts += "Class name : ";
				texts += _className;
				texts += "\n";
			}
		}

		texts += "Method name: ";
		texts += _methodName;
		texts += "\n";
		texts += "Message    : ";
		texts += std::runtime_error::what();
		texts += "\n";
	}

	return texts;
}

// Methods
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************


#endif // !SYSTEM_EXCEPTIONSERVICES_RUNTIMEEXCEPTION_H
