#ifndef MATHEMATICALCRYSTALCHEMISTRY_ANALYSIS_CRYSTALIDENTIFICATIONPARAMETERS_H
#define MATHEMATICALCRYSTALCHEMISTRY_ANALYSIS_CRYSTALIDENTIFICATIONPARAMETERS_H

#include <filesystem>

#include "ArgumentOutOfRangeException.h"

#include "StreamReader.h"


namespace MathematicalCrystalChemistry
{
	namespace Analysis
	{
		class IsotypicCrystalExtractionParameters
		{
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Constructors, destructor, and operators

		public:
			IsotypicCrystalExtractionParameters() noexcept;
			virtual ~IsotypicCrystalExtractionParameters() = default;

			IsotypicCrystalExtractionParameters(const IsotypicCrystalExtractionParameters&) = default;
			IsotypicCrystalExtractionParameters(IsotypicCrystalExtractionParameters&&) noexcept = default;
			IsotypicCrystalExtractionParameters& operator=(const IsotypicCrystalExtractionParameters&) = default;
			IsotypicCrystalExtractionParameters& operator=(IsotypicCrystalExtractionParameters&&) noexcept = default;

		// Constructors, destructor, and operators
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Property

			bool needExtraction() const noexcept;

			const std::filesystem::path& databaseDirectoryPath() const noexcept;
			double spaceGroupPrecision() const noexcept;

			static double defaultSpaceGroupPrecision() noexcept;


			void setExtractionNecessity(const bool) noexcept;

			void setDatabaseDirectoryPath(const std::filesystem::path&);
			void setSpaceGroupPrecision() noexcept;
			void setSpaceGroupPrecision(const double);

		// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Methods

			void initialize() noexcept;
			void initialize(const System::IO::StreamReader&);

		// Methods
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Private methods

		private:
			bool toNecessity(const std::string&) const;

		// Private methods
// **********************************************************************************************************************************************************************************************************************************************************************************************

		private:
			bool _needExtraction;

			std::filesystem::path _databaseDirectoryPath;
			double _spaceGroupPrecision;

			static double s_defaultSpaceGroupPrecision;
		};
	}
}

// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Property

inline bool MathematicalCrystalChemistry::Analysis::IsotypicCrystalExtractionParameters::needExtraction() const noexcept
{
	return _needExtraction;
}

inline const std::filesystem::path& MathematicalCrystalChemistry::Analysis::IsotypicCrystalExtractionParameters::databaseDirectoryPath() const noexcept
{
	return _databaseDirectoryPath;
}

inline double MathematicalCrystalChemistry::Analysis::IsotypicCrystalExtractionParameters::spaceGroupPrecision() const noexcept
{
	return _spaceGroupPrecision;
}

inline double MathematicalCrystalChemistry::Analysis::IsotypicCrystalExtractionParameters::defaultSpaceGroupPrecision() noexcept
{
	return s_defaultSpaceGroupPrecision;
}

inline void MathematicalCrystalChemistry::Analysis::IsotypicCrystalExtractionParameters::setExtractionNecessity(const bool necessity) noexcept
{
	_needExtraction = necessity;
}

inline void MathematicalCrystalChemistry::Analysis::IsotypicCrystalExtractionParameters::setSpaceGroupPrecision() noexcept
{
	_spaceGroupPrecision = s_defaultSpaceGroupPrecision;
}

inline void MathematicalCrystalChemistry::Analysis::IsotypicCrystalExtractionParameters::setSpaceGroupPrecision(const double val)
{
	if (0.0 < val)
		_spaceGroupPrecision = val;
	else
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "setSpaceGroupPrecision", "Argument value is less than zero." };
}

// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************


#endif // !MATHEMATICALCRYSTALCHEMISTRY_ANALYSIS_CRYSTALIDENTIFICATIONPARAMETERS_H
