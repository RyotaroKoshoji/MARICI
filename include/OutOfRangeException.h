#ifndef SYSTEM_EXCEPTIONSERVICES_OUTOFRANGEEXCEPTION_H
#define SYSTEM_EXCEPTIONSERVICES_OUTOFRANGEEXCEPTION_H

#include <stdexcept>
#include <string>
#include <typeinfo>

#include "IException.h"


namespace System
{
	namespace ExceptionServices
	{
		class OutOfRangeException :private std::out_of_range, public IException
		{
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Constructors, destructor, and operators

		protected:
			OutOfRangeException(const std::type_info&, const std::string& methodName, const std::string& message) noexcept;
			OutOfRangeException(const std::string& methodName, const std::string& message) noexcept;

		public:
			virtual ~OutOfRangeException() = default;

			OutOfRangeException(const OutOfRangeException&) = default;
			OutOfRangeException(OutOfRangeException&&) noexcept = default;
			OutOfRangeException& operator=(const OutOfRangeException&) = default;
			OutOfRangeException& operator=(OutOfRangeException&&) noexcept = default;

		// Constructors, destructor, and operators
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Property

			std::string message() const override;

		// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Methods

			std::string toString() const override;

		// Methods
// **********************************************************************************************************************************************************************************************************************************************************************************************

		private:
			std::string _className;
			std::string _methodName;


		private:
			OutOfRangeException() = delete;
		};
	}
}

// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Constructors

inline System::ExceptionServices::OutOfRangeException::OutOfRangeException(const std::type_info& typeinfo, const std::string& methodName, const std::string& message) noexcept
	: std::out_of_range{ message }
	, IException{}
	, _className{ typeinfo.name() }
	, _methodName{ methodName }
{
}

inline System::ExceptionServices::OutOfRangeException::OutOfRangeException(const std::string& methodName, const std::string& message) noexcept
	: std::out_of_range{ message }
	, IException{}
	, _className{}
	, _methodName{ methodName }
{
}

// Constructors
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Property

inline std::string System::ExceptionServices::OutOfRangeException::message() const
{
	return std::out_of_range::what();
}

// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Methods

inline std::string System::ExceptionServices::OutOfRangeException::toString() const
{
	std::string texts;
	{
		texts = typeid(*this).name();
		texts += "\n";
		{
			if (!(_className.empty()))
			{
				texts += "Class name : ";
				texts += _className;
				texts += "\n";
			}
		}

		texts += "Method name: ";
		texts += _methodName;
		texts += "\n";
		texts += "Message    : ";
		texts += std::out_of_range::what();
		texts += "\n";
	}

	return texts;
}

// Methods
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************


#endif // !SYSTEM_EXCEPTIONSERVICES_OUTOFRANGEEXCEPTION_H
