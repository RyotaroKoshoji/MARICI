#ifndef CHEMTOOLKIT_GENERIC_FORMALCHARGE_H
#define CHEMTOOLKIT_GENERIC_FORMALCHARGE_H

#include <limits>

#include "ArgumentOutOfRangeException.h"


namespace ChemToolkit
{
	namespace Generic
	{
		class FormalCharge
		{
			using size_type = unsigned short;
			using charge_type = short;


// **********************************************************************************************************************************************************************************************************************************************************************************************
		// Constructors, destructor, and operators

		public:
			FormalCharge() noexcept;
			FormalCharge(const charge_type) noexcept;
			FormalCharge(const int);

			virtual ~FormalCharge() = default;

			FormalCharge(const FormalCharge&) = default;
			FormalCharge(FormalCharge&&) noexcept = default;
			FormalCharge& operator=(const FormalCharge&) = default;
			FormalCharge& operator=(FormalCharge&&) noexcept = default;

			// Constructors, destructor, and operators
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
			// Property

			operator charge_type() const noexcept;

			// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
			// Methods

			bool isAnion() const noexcept;
			bool isCation() const noexcept;


			std::size_t getHashCode() const noexcept;

			// Methods
// **********************************************************************************************************************************************************************************************************************************************************************************************

		private:
			charge_type _charge;


			friend bool operator<(const FormalCharge, const FormalCharge) noexcept;
			friend bool operator>(const FormalCharge, const FormalCharge) noexcept;
			friend bool operator==(const FormalCharge, const FormalCharge) noexcept;
			friend bool operator!=(const FormalCharge, const FormalCharge) noexcept;
		};



		inline bool operator<(const FormalCharge fca, const FormalCharge fcb) noexcept
		{
			return (fca._charge < fcb._charge);
		}

		inline bool operator>(const FormalCharge fca, const FormalCharge fcb) noexcept
		{
			return (fca._charge > fcb._charge);
		}

		inline bool operator==(const FormalCharge fca, const FormalCharge fcb) noexcept
		{
			return (fca._charge == fcb._charge);
		}

		inline bool operator!=(const FormalCharge fca, const FormalCharge fcb) noexcept
		{
			return (fca._charge != fcb._charge);
		}
	}
}

// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Constructors

inline ChemToolkit::Generic::FormalCharge::FormalCharge() noexcept
	: _charge{ 0 }
{
}

inline ChemToolkit::Generic::FormalCharge::FormalCharge(const charge_type val) noexcept
	: _charge{ val }
{
}

inline ChemToolkit::Generic::FormalCharge::FormalCharge(const int val)
	: _charge{ static_cast<charge_type>(val) }
{
	if (static_cast<int>(std::numeric_limits<size_type>::max()) < val)
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "constructor", "Argument value is too large." };
}

// Constructors
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Property

inline ChemToolkit::Generic::FormalCharge::operator ChemToolkit::Generic::FormalCharge::charge_type() const noexcept
{
	return _charge;
}

// Property
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Methods

inline bool ChemToolkit::Generic::FormalCharge::isAnion() const noexcept
{
	if (_charge < 0)
		return true;
	else
		return false;
}

inline bool ChemToolkit::Generic::FormalCharge::isCation() const noexcept
{
	if (0 < _charge)
		return true;
	else
		return false;
}

inline std::size_t ChemToolkit::Generic::FormalCharge::getHashCode() const noexcept
{
	return std::hash<size_type>{}(_charge);
}

// Methods
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************


#endif // !CHEMTOOLKIT_GENERIC_FORMALCHARGE_H
