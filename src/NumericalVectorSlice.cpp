#include "NumericalVectorSlice.h"

using namespace MathToolkit::LinearAlgebra;


// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// Constructors

template <>
NumericalVectorSlice<double>::NumericalVectorSlice(std::valarray<value_type>& va, const std::slice& sl)
	: _valueArraySlice{ va }
	, _start{ sl.start() }
	, _size{ sl.size() }
	, _stride{ sl.stride() }
{
	if (_size == 0)
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "constructor", "size is zero." };

	if (_stride == 0)
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "constructor", "stride is zero." };

	if (va.size() <= (_start + ((_size - 1) * _stride)))
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "constructor", "Range of the slice is invalid." };
}

template <>
NumericalVectorSlice<std::complex<double>>::NumericalVectorSlice(std::valarray<value_type>& va, const std::slice& sl)
	: _valueArraySlice{ va }
	, _start{ sl.start() }
	, _size{ sl.size() }
	, _stride{ sl.stride() }
{
	if (_size == 0)
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "constructor", "size is zero." };

	if (_stride == 0)
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "constructor", "stride is zero." };

	if (va.size() <= (_start + ((_size - 1) * _stride)))
		throw System::ExceptionServices::ArgumentOutOfRangeException{ typeid(*this), "constructor", "Range of the slice is invalid." };
}

// Constructors
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
// **********************************************************************************************************************************************************************************************************************************************************************************************
